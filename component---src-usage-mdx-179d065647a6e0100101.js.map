{"version":3,"sources":["webpack:///../src/usage.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"2OAMaA,G,UAAe,S,+LAE5B,IAKMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACJ,EAAD,eAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,iBAAQ,CACN,GAAM,eADR,eAGA,iBAAQ,CACN,GAAM,kBADR,kBAGA,uBAAK,gCAAMC,WAAW,OAAU,CAC5B,UAAa,gBADZ,iDAIL,iBAAQ,CACN,GAAM,gCADR,iCAGA,oGACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,4HAML,iBAAQ,CACN,GAAM,kCADR,mCAGA,iFACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,0LAUL,oEACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,yEAIL,yFACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,sHASL,wGACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,8HAUL,iBAAQ,CACN,GAAM,kCADR,kCAGA,iBAAQ,CACN,GAAM,eADR,eAGA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,wCAIL,iBAAQ,CACN,GAAM,kBADR,kBAGA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,2CAIL,iBAAQ,CACN,GAAM,0BADR,0BAGA,8FACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,8LAWL,qBAAG,0BAAYA,WAAW,KAAvB,UAAH,mDACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,0IAQL,iBAAQ,CACN,GAAM,6BADR,6BAGA,4BAAW,0BAAYA,WAAW,KAAvB,eAAX,wEAA2I,0BAAYA,WAAW,KAAvB,cAA3I,gCACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,+IASL,iBAAQ,CACN,GAAM,oBADR,oBAGA,uEACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,2B,6LAQTJ,EAAWK,gBAAiB","file":"component---src-usage-mdx-179d065647a6e0100101.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/dvpetrov/Workspace/dxfeed-js-api-poc/docs/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"basic-usage\"\n    }}>{`Basic Usage`}</h1>\n    <h2 {...{\n      \"id\": \"import-package\"\n    }}>{`Import package`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`import DXClient from '@dxfeed/widgets-api'\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"configure--create-connection\"\n    }}>{`Configure & Create connection`}</h2>\n    <p>{`Create instance of DXClient and set web socket address and open connection.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`import DXClient from '@dxfeed/widgets-api'\n\nconst client = new DXClient('wss://CLIENT_NAME.dxfeed.com/api/rsocket')\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"configure--create-subscription\"\n    }}>{`Configure & Create subscription`}</h2>\n    <p>{`You should specify the record and the requested symbols.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`import { QuoteSubscription } from '@dxfeed/widgets-api/records/Quote'\n\nconst subscription = await client.subscribe(\n  new QuoteSubscription(\n    ['AAPL'] /* symbols */\n  )\n)\n`}</code></pre>\n    <p>{`The full list of records can be found here:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import { /* Subscription */ } from '@dxfeed/widgets-api/records/*'\n`}</code></pre>\n    <p>{`You can also request only specific fields, not the entire event.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`client.subscribe(\n  new QuoteSubscription(\n    symbols,\n    ['eventSymbol', 'bidPrice'] /* fields */\n  )\n)\n`}</code></pre>\n    <p>{`For timed subscription you should also provide time to start subscription from.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`client.subscribe(\n  new TimeAndSaleSubscription(\n    symbols,\n    fields,\n    1500000000000 /* from time */\n  )\n)\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"change-symbols-in-subscription\"\n    }}>{`Change symbols in subscription`}</h2>\n    <h3 {...{\n      \"id\": \"add-symbols\"\n    }}>{`Add symbols`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`subscription.addSymbols(['MSFT'])\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"remove-symbols\"\n    }}>{`Remove symbols`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`subscription.removeSymbols(['AAPL'])\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"get-events-from-stream\"\n    }}>{`Get events from stream`}</h2>\n    <p>{`After an open subscription, you can listen to events from the stream.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`const stream = subscription.getStream()\n\nstream.subscribe({\n  onSubscribe: sub => {\n    sub.request(Number.MAX_SAFE_INTEGER) // set backpressure\n  },\n  onNext: handleEvents,\n})\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`onNext`}</inlineCode>{` its event handler for process incoming events.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`import { Quote } from '@dxfeed/widgets-api/records/Quote'\n\nconst handleEvents = (events: Quote[]) => {\n  /* process events */\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"close-subscription-stream\"\n    }}>{`Close subscription stream`}</h2>\n    <p>{`All `}<inlineCode parentName=\"p\">{`onSubscribe`}</inlineCode>{` callbacks that are called with a subscription, you need to call the `}<inlineCode parentName=\"p\">{`subs.close`}</inlineCode>{` method to close the stream.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`stream.subscribe({\n  onSubscribe: sub => {\n    setTimeout(() => sub.close(), 5000) // close after 5s\n  },\n  onNext: console.log,\n})\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"close-connection\"\n    }}>{`Close connection`}</h2>\n    <p>{`If you need to close the web socket connection`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`client.close()\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}